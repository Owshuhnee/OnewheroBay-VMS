@{
    ViewData["Title"] = "Booking";
}

<div class="myaccount-card">

    <!-- TWO COLUMN GRID: EVENT CARD (LEFT) + FORM (RIGHT) -->
    <section class="booking-layout">

        <!-- LEFT: Event card reused from Events page -->
        <article class="event-card" data-cat="nature,tours">

            <div class="event-media">
                <img src="~/img/homepage1.png" alt="Kiwi habitat tour" />

                <!-- TOP-RIGHT INTEREST TAG -->
                <span class="event-interest-tag">Workshops</span>
            </div>

            <div class="event-body">

                <h3 class="event-title">Exploring Kiwi Habitats in Depth</h3>

                <p class="event-schedule-day">Monday to Friday</p>
                <p class="event-schedule-times">1:00 PM • 2:00 PM • 3:00 PM</p>

                <p class="event-desc">
                    Dive into the unique world of kiwi birds, discovering their habitat
                    and conservation efforts.
                </p>

                <div class="event-footer">
                    <div class="event-info-row">
                        <span class="event-price">$250.00</span>
                        <span class="event-slots">🔸 Available: 10</span>
                    </div>

                </div>
            </div>
        </article>

        <!-- RIGHT: Booking Details form -->
        <!-- TODO: Name and Email should be a autofilled from database
            or just remove to make the cards smaller? -->
        <section class="bookingcard-right">
            <h2>Booking Details</h2>
            <p>
                Please provide your booking information. You’ll receive a confirmation email once complete.
            </p>

            <form>
            <div class="two-col">
                    <div>
                        <label for="date">Preferred Date</label>
                        <input id="date" type="date" required />
                    </div>
                    <div>
                        <label for="time">Preferred Time</label>
                        <select id="time" required>
                            <option value="">Select a time</option>
                            <option>8:00 AM</option>
                            <option>10:00 AM</option>
                            <option>1:00 PM</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label for="guests">Number of Guests</label>
                    <input id="guests" type="number" min="1" value="1" />
                </div>


                <div>
                    <label for="notes">Special Requests</label>
                    <textarea id="notes" rows="3"></textarea>
                </div>

                <div class="total-row">
                    <span>Total Price</span>
                    <strong>$250.00</strong>
                </div>

                <button type="submit" class="primary-btn">Confirm Booking</button>
            </form>
        </section>

    </section>
</div>

<!-- FAQ  -->
<section class="faq-section">
    <h3>Frequently Asked Questions</h3>
    <div class="faq-item">
        <div class="faq-question">Can I reschedule my booking?</div>
        <div class="faq-answer">
            Yes, contact us up to 48 hours before your visit to change your date or time.
        </div>
    </div>
    <div class="faq-item">
        <div class="faq-question">Do you offer group discounts?</div>
        <div class="faq-answer">
            Group rates are available for bookings of 10 or more guests — please inquire before checkout.
        </div>
    </div>
</section>

<!-- Auto-update total price  -->
<script>
    document.getElementById("guests").addEventListener("input", function () {
        let qty = Number(this.value) || 1;
        let price = 250; // your event price
        document.querySelector(".total-row strong").textContent = "$" + (qty * price).toFixed(2);
    });
</script>
