@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    ViewData["Title"] = "My Account";
    var firstName = HttpContextAccessor.HttpContext?.Session.GetString("UserFirstName");
}

<div class="auth-wrapper">
    <div class="auth-card" style="flex-direction: column; max-width: 1000px;">
        <div class="auth-content" style="width: 100%; padding: 24px 32px;">
            <h2>My Account</h2>

            @if (!string.IsNullOrEmpty(firstName))
            {
                <p>Welcome back, <strong>@firstName</strong>.</p>
            }

            <div class="account-layout">
                <!-- LEFT: Account details -->
                <div class="account-details">
                    <h3>Account details</h3>
                    <p class="section-subtitle">
                        (For now these can be static, you can bind them to a model later.)
                    </p>

                    <form method="post">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" name="FirstName" class="form-control" />
                        </div>

                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" name="LastName" class="form-control" />
                        </div>

                        <div class="form-group">
                            <label>Phone</label>
                            <input type="tel" name="Phone" class="form-control" />
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" name="Email" class="form-control" />
                        </div>

                        <div class="form-group">
                            <label>Interest</label>
                            <input type="text" name="Interest" class="form-control" />
                        </div>

                        <button type="submit" class="nav-login-btn">
                            Save Changes
                        </button>
                    </form>
                </div>

                <!-- RIGHT: Current active bookings -->
                <div class="account-bookings">
                    <h3>Current Active Bookings</h3>
                    <p class="section-subtitle">
                        You can move your existing bookings table here.
                    </p>

                    <!-- For now, just a placeholder table -->
                    <table class="bookings-table">
                        <thead>
                            <tr>
                                <th>Booking #</th>
                                <th>Event Name</th>
                                <th>Location</th>
                                <th>Date</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>EX-12345</td>
                                <td>Sample Event</td>
                                <td>Sample Location</td>
                                <td>01 Jan 2026</td>
                                <td>10:00</td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Later you'll replace this tbody with your real booking rows from the DB -->
                </div>
            </div>
        </div>
    </div>
</div>
